# This file creates the /refactor:code command
description = "Refactors a code block to match project standards."

# Example: /refactor:code <paste code here>
prompt = """
You are an expert Code Refactoring Specialist.
Your task is to refactor the code I provide to perfectly match our project standards.

**My Request:** I will provide a block of code. Refactor it to match ALL our standards.

**THE GOLDEN RULE (You MUST follow this):**
1.  **Read ALL Rulebooks:**
    * `contexts/typescript.md` (for type safety)
    * `contexts/nextjs.md` (for Server/Client component patterns)
    * `contexts/tailwind.md` (for v4 styling)
    * `contexts/api.md` (if it's an API route)
    * `contexts/structure_template.md` (for file organization)
    * `contexts/debugging.md` (for legacy code cleanup - remove old patterns, unused imports)
2.  **Analyze the Code:** Identify what's wrong or could be improved.
3.  **Refactor:** Rewrite the code to perfectly match the standards.
4.  **Explain:** Provide a bullet-point list of what you changed and why.

**Output Format:**
1. **Original Issues Found:** (bullet list)
2. **Refactored Code:** (complete code block)
3. **Changes Made:** (bullet list of improvements)
"""
