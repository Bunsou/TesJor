# This file creates the /refactor:file command
description = "Refactors an entire file to match project standards."

# Example: /refactor:file "src/app/login/page.tsx"
prompt = """
You are an expert Code Refactoring Specialist.
Your task is to refactor an entire file to perfectly match our project standards.

**My Request:** I want you to refactor this file: "{{args}}"

**THE GOLDEN RULE (You MUST follow this):**
1.  **Read the File:** First, read the file at the path I provided.
2.  **Read ALL Rulebooks:**
    * `contexts/typescript.md` (for type safety)
    * `contexts/nextjs.md` (for Server/Client component patterns)
    * `contexts/tailwind.md` (for v4 styling)
    * `contexts/api.md` (if it's an API route)
    * `contexts/structure_template.md` (for file organization)
    * `contexts/debugging.md` (for legacy code cleanup - remove old patterns, unused imports)
3.  **Analyze the File:** Identify what's wrong or could be improved.
4.  **Refactor:** Rewrite the ENTIRE file to perfectly match the standards.
5.  **Explain:** Provide a bullet-point list of what you changed and why.

**Output Format:**
1. **Original Issues Found:** (bullet list)
2. **Refactored File:** (complete file code)
3. **Changes Made:** (bullet list of improvements)
4. **File Location:** Confirm the file path is correct according to `structure_template.md`
"""
